{- |
Week 0 - 练习 1: Hello Haskell（参考答案）
=========================================

这是练习 1 的参考答案。如果你的实现与此不同但也能正确工作，那也很好！
Haskell 中通常有多种方式实现同一个功能。
-}

module Exercise01 where

-- ============================================================================
-- 练习 1.1: 问候函数
-- ============================================================================

sayHello :: String -> String
sayHello name = "你好，" ++ name ++ "！"

-- 解释：
-- ++ 操作符用于连接字符串
-- 我们将三个字符串连接起来：前缀、名字、后缀


-- ============================================================================
-- 练习 1.2: 简单算术
-- ============================================================================

addTwo :: Int -> Int
addTwo n = n + 2

-- 解释：
-- 这是最直接的实现方式
-- n 是参数名，我们返回 n + 2


double :: Int -> Int
double n = n * 2

-- 解释：
-- 将参数乘以 2
-- 也可以写成: double n = n + n


square :: Int -> Int
square n = n * n

-- 解释：
-- 将参数乘以自己
-- 也可以使用幂运算: square n = n ^ 2


-- ============================================================================
-- 练习 1.3: 布尔逻辑
-- ============================================================================

isPositive :: Int -> Bool
isPositive n = n > 0

-- 解释：
-- > 运算符返回 Bool 类型
-- 注意 0 不是正数，所以用 > 而不是 >=


isEven :: Int -> Bool
isEven n = mod n 2 == 0

-- 解释：
-- mod n 2 计算 n 除以 2 的余数
-- 如果余数是 0，那么 n 是偶数
-- 
-- 其他写法：
-- isEven n = n `mod` 2 == 0  -- 使用中缀表示法
-- isEven n = even n           -- 使用 Prelude 提供的 even 函数


-- ============================================================================
-- 练习 1.4: 字符串操作
-- ============================================================================

firstChar :: String -> Char
firstChar s = head s

-- 解释：
-- head 函数返回列表的第一个元素
-- 因为 String 在 Haskell 中就是 [Char]（字符列表）
-- 所以 head 可以返回第一个字符
--
-- 注意：这个函数对空字符串会报错
-- 在真实项目中，我们会使用 Maybe 类型来处理这种情况


stringLength :: String -> Int
stringLength s = length s

-- 解释：
-- length 函数返回列表的长度
-- 适用于任何列表类型，包括字符串
--
-- 更简洁的写法：
-- stringLength = length  -- 这叫做 "point-free" 风格


-- ============================================================================
-- 练习 1.5: 组合函数（挑战题）
-- ============================================================================

addThenDouble :: Int -> Int
addThenDouble n = double (addTwo n)

-- 解释：
-- 先调用 addTwo n 得到 n + 2
-- 然后将结果传给 double 函数
-- 括号表示先计算内部表达式
--
-- 其他等价写法：
-- addThenDouble n = (n + 2) * 2
-- addThenDouble n = double $ addTwo n  -- 使用 $ 运算符避免括号
-- addThenDouble = double . addTwo      -- 使用函数组合（后续课程会学习）


-- ============================================================================
-- 额外示例：不同的编程风格
-- ============================================================================

-- 风格 1: 显式参数（初学者友好）
addTwoExplicit :: Int -> Int
addTwoExplicit n = n + 2

-- 风格 2: Point-free 风格（高级但有时更清晰）
addTwoPointFree :: Int -> Int
addTwoPointFree = (+ 2)  -- 部分应用 + 运算符

-- 两种风格完全等价！选择你觉得更清晰的方式。


-- ============================================================================
-- 学习要点
-- ============================================================================

{- |
从这个练习中你应该学到：

1. **函数定义语法**
   functionName :: Type -> Type
   functionName parameter = expression

2. **类型签名很重要**
   它们帮助编译器检查错误，也是最好的文档

3. **Haskell 表达式求值**
   一切都是表达式，没有语句

4. **字符串就是列表**
   String 实际上是 [Char]，所以列表函数都适用

5. **函数组合**
   你可以将多个小函数组合成大函数

继续保持这种学习态度，你会很快掌握 Haskell！
-}

